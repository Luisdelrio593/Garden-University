<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garden University - Administrativos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .navbar {
            background: linear-gradient(135deg, #1a5f4f, #2d8a6a) !important;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .navbar-brand {
            font-weight: bold;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
        }
        .navbar-logo {
            width: 40px;
            height: 40px;
            margin-right: 10px;
        }
        .main-container {
            margin-top: 30px;
        }
        .stats-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            margin-bottom: 20px;
            border-left: 4px solid #1a5f4f;
        }
        .stats-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #1a5f4f;
            margin: 0;
        }
        .stats-label {
            color: #6c757d;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .admin-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .admin-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .admin-header {
            border-bottom: 2px solid #f8f9fa;
            padding-bottom: 15px;
            margin-bottom: 15px;
        }
        .admin-name {
            color: #1a5f4f;
            font-weight: 600;
            font-size: 1.2rem;
            margin: 0;
        }
        .area-badge {
            background: linear-gradient(135deg, #1a5f4f, #2d8a6a);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        .area-badge.subdireccion {
            background: linear-gradient(135deg, #dc3545, #e85d75);
        }
        .area-badge.coordinacion {
            background: linear-gradient(135deg, #fd7e14, #ffb366);
        }
        .admin-info {
            color: #6c757d;
            font-size: 0.9rem;
            margin: 5px 0;
        }
        .form-control, .form-select {
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 12px;
            transition: all 0.3s ease;
        }
        .form-control:focus, .form-select:focus {
            border-color: #1a5f4f;
            box-shadow: 0 0 0 0.2rem rgba(26, 95, 79, 0.25);
        }
        .btn-primary {
            background: linear-gradient(135deg, #1a5f4f, #2d8a6a);
            border: none;
            border-radius: 10px;
            padding: 12px 25px;
            font-weight: 600;
        }
        .btn-success {
            background: linear-gradient(135deg, #28a745, #20c997);
            border: none;
            border-radius: 10px;
            padding: 8px 20px;
        }
        .btn-warning {
            background: linear-gradient(135deg, #ffc107, #ffda6a);
            border: none;
            border-radius: 10px;
            color: #212529;
            padding: 8px 20px;
        }
        .btn-danger {
            background: linear-gradient(135deg, #dc3545, #e85d75);
            border: none;
            border-radius: 10px;
            padding: 8px 20px;
        }
        .search-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }
        .modal-content {
            border-radius: 15px;
            border: none;
        }
        .modal-header {
            background: linear-gradient(135deg, #1a5f4f, #2d8a6a);
            color: white;
            border-radius: 15px 15px 0 0;
        }
        .alert {
            border-radius: 10px;
            border: none;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .page-header {
                margin: 15px 0;
                border-radius: 15px;
                padding: 20px;
            }
            .page-header h1 {
                font-size: 1.5rem;
            }
            .admin-card {
                margin-bottom: 15px;
                padding: 15px;
            }
            .admin-name {
                font-size: 1.1rem;
            }
            .btn {
                font-size: 0.85rem;
                padding: 8px 15px;
            }
            .modal-dialog {
                margin: 0.5rem;
            }
            .area-badge {
                font-size: 0.75rem;
                padding: 4px 10px;
            }
            .admin-info {
                font-size: 0.85rem;
            }
        }
        
        @media (max-width: 576px) {
            body {
                padding: 5px;
            }
            .container {
                padding: 10px;
            }
            .page-header {
                margin: 10px 0;
                padding: 15px;
            }
            .page-header h1 {
                font-size: 1.3rem;
            }
            .admin-card {
                padding: 12px;
                margin-bottom: 12px;
            }
            .admin-name {
                font-size: 1rem;
            }
            .btn {
                font-size: 0.8rem;
                padding: 6px 12px;
            }
            .admin-info {
                font-size: 0.8rem;
            }
            .area-badge {
                font-size: 0.7rem;
                padding: 3px 8px;
            }
            .form-control, .form-select {
                font-size: 16px; /* Evita zoom en iOS */
            }
            .modal-header h4 {
                font-size: 1.1rem;
            }
            .d-flex.justify-content-between {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="/dashboard">
                <svg class="navbar-logo" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="50" cy="50" r="45" fill="#ffffff" stroke="#1a5f4f" stroke-width="2"/>
                    <path d="M25 35 Q50 20 75 35 L75 65 Q50 80 25 65 Z" fill="#1a5f4f"/>
                    <circle cx="40" cy="45" r="3" fill="#ffffff"/>
                    <circle cx="60" cy="45" r="3" fill="#ffffff"/>
                    <path d="M35 60 Q50 70 65 60" stroke="#ffffff" stroke-width="2" fill="none"/>
                </svg>
                Garden University
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link text-white" href="/dashboard">
                    <i class="fas fa-arrow-left me-1"></i>Volver al Dashboard
                </a>
            </div>
        </div>
    </nav>

    <div class="container main-container">
        <!-- Título y estadísticas -->
        <div class="row mb-4">
            <div class="col-12">
                <h2 class="mb-4">
                    <i class="fas fa-users-cog me-3" style="color: #1a5f4f;"></i>
                    Gestión de Administrativos
                </h2>
            </div>
        </div>

        <!-- Estadísticas -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="stats-card">
                    <h3 class="stats-number" th:text="${totalAdministratives}">0</h3>
                    <p class="stats-label">Total Administrativos</p>
                </div>
            </div>
            <div class="col-md-8">
                <div class="stats-card">
                    <h6 class="mb-3">Distribución por Área</h6>
                    <div class="row">
                        <div th:each="stat : ${administrativeStats}" class="col-md-4 text-center">
                            <div class="mb-2">
                                <span class="h4 text-primary" th:text="${stat[1]}">0</span>
                            </div>
                            <small class="text-muted" 
                                   th:text="${stat[0] == 'SUBDIRECCION' ? 'Subdirección' : 
                                           (stat[0] == 'COORDINACION_ACADEMICA' ? 'Coord. Académica' : 'Coord. Servicios')}">
                                Área
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mensajes de alerta -->
        <div th:if="${successMessage}" class="alert alert-success alert-dismissible fade show" role="alert">
            <i class="fas fa-check-circle me-2"></i>
            <span th:text="${successMessage}"></span>
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
        
        <div th:if="${errorMessage}" class="alert alert-danger alert-dismissible fade show" role="alert">
            <i class="fas fa-exclamation-circle me-2"></i>
            <span th:text="${errorMessage}"></span>
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>

        <!-- Búsqueda y nuevo administrativo -->
        <div class="search-container">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <form method="get" action="/administrativos">
                        <div class="input-group">
                            <input type="text" class="form-control" name="search" placeholder="Buscar administrativos por nombre o apellido..." th:value="${searchTerm}">
                            <button class="btn btn-primary" type="submit">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </form>
                </div>
                <div class="col-md-4 text-end">
                    <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#newAdministrativeModal">
                        <i class="fas fa-plus me-2"></i>Nuevo Administrativo
                    </button>
                </div>
            </div>
        </div>

        <!-- Lista de administrativos -->
        <div class="row">
            <div th:each="administrative : ${administrativos}" class="col-xl-6 col-lg-6 col-md-12">
                <div class="admin-card">
                    <div class="admin-header">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h5 class="admin-name" th:text="${administrative.nombreCompleto}"></h5>
                                <span class="area-badge" 
                                      th:classappend="${administrative.area == 'SUBDIRECCION' ? ' subdireccion' : ' coordinacion'}"
                                      th:text="${administrative.area == 'SUBDIRECCION' ? 'Subdirección' : 
                                              (administrative.area == 'COORDINACION_ACADEMICA' ? 'Coordinación Académica' : 'Coordinación de Servicios Escolares')}">
                                </span>
                            </div>
                            <div class="dropdown">
                                <button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a class="dropdown-item edit-administrative-btn" href="#" 
                                           th:data-administrative-id="${administrative.id}"
                                           th:data-nombres="${administrative.nombres}"
                                           th:data-apellidos="${administrative.apellidos}"
                                           th:data-curp="${administrative.curp}"
                                           th:data-rfc="${administrative.rfc}"
                                           th:data-direccion="${administrative.direccion}"
                                           th:data-correo-personal="${administrative.correoPersonal}"
                                           th:data-correo-institucional="${administrative.correoInstitucional}"
                                           th:data-area="${administrative.area}"
                                           th:data-celular="${administrative.celular}"
                                           th:data-extension="${administrative.extension}">
                                            <i class="fas fa-edit me-2"></i>Editar
                                        </a>
                                    </li>
                                    <li><hr class="dropdown-divider"></li>
                                    <li>
                                        <form th:action="@{/administrativos/deactivate/{id}(id=${administrative.id})}" method="post" class="d-inline">
                                            <button type="submit" class="dropdown-item text-danger" onclick="return confirm('¿Está seguro de desactivar este administrativo?')">
                                                <i class="fas fa-ban me-2"></i>Desactivar
                                            </button>
                                        </form>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-info">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-2">
                                    <strong><i class="fas fa-envelope me-2 text-primary"></i>Correo Institucional:</strong><br>
                                    <span th:text="${administrative.correoInstitucional}">correo@garden.uni.edu</span>
                                </div>
                                <div class="mb-2" th:if="${administrative.correoPersonal}">
                                    <strong><i class="fas fa-envelope-open me-2 text-secondary"></i>Correo Personal:</strong><br>
                                    <span th:text="${administrative.correoPersonal}">personal@email.com</span>
                                </div>
                                <div class="mb-2" th:if="${administrative.celular}">
                                    <strong><i class="fas fa-phone me-2 text-success"></i>Celular:</strong><br>
                                    <span th:text="${administrative.celular}">555-0123</span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-2" th:if="${administrative.curp}">
                                    <strong><i class="fas fa-id-card me-2 text-info"></i>CURP:</strong><br>
                                    <span th:text="${administrative.curp}">ABCD123456HDFGHI01</span>
                                </div>
                                <div class="mb-2" th:if="${administrative.rfc}">
                                    <strong><i class="fas fa-file-invoice me-2 text-warning"></i>RFC:</strong><br>
                                    <span th:text="${administrative.rfc}">ABCD123456ABC</span>
                                </div>
                                <div class="mb-2" th:if="${administrative.extension}">
                                    <strong><i class="fas fa-phone-alt me-2 text-secondary"></i>Extensión:</strong><br>
                                    <span th:text="${administrative.extension}">1234</span>
                                </div>
                            </div>
                        </div>
                        <div th:if="${administrative.direccion}" class="mt-2">
                            <strong><i class="fas fa-map-marker-alt me-2 text-danger"></i>Dirección:</strong><br>
                            <span th:text="${administrative.direccion}">Calle 123, Ciudad</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mensaje si no hay administrativos -->
        <div th:if="${#lists.isEmpty(administrativos)}" class="text-center py-5">
            <i class="fas fa-users-slash fa-3x text-muted mb-3"></i>
            <h4 class="text-muted">No se encontraron administrativos</h4>
            <p class="text-muted">Agregue el primer administrativo o modifique los términos de búsqueda.</p>
        </div>
    </div>

    <!-- Modal Nuevo Administrativo -->
    <div class="modal fade" id="newAdministrativeModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-user-plus me-2"></i>Nuevo Administrativo
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form action="/administrativos/save" method="post" class="needs-validation" novalidate>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="nombres" class="form-label">Nombres *</label>
                                    <input type="text" class="form-control" id="nombres" name="nombres" required>
                                    <div class="invalid-feedback">Por favor ingrese los nombres.</div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="apellidos" class="form-label">Apellidos *</label>
                                    <input type="text" class="form-control" id="apellidos" name="apellidos" required>
                                    <div class="invalid-feedback">Por favor ingrese los apellidos.</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="curp" class="form-label">CURP</label>
                                    <input type="text" class="form-control" id="curp" name="curp" maxlength="18">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="rfc" class="form-label">RFC</label>
                                    <input type="text" class="form-control" id="rfc" name="rfc" maxlength="13">
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="direccion" class="form-label">Dirección</label>
                            <input type="text" class="form-control" id="direccion" name="direccion">
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="correoPersonal" class="form-label">Correo Personal</label>
                                    <input type="email" class="form-control" id="correoPersonal" name="correoPersonal">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="correoInstitucional" class="form-label">Correo Institucional *</label>
                                    <input type="email" class="form-control" id="correoInstitucional" name="correoInstitucional" required>
                                    <div class="invalid-feedback">Por favor ingrese el correo institucional.</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="passwordAcceso" class="form-label">Contraseña *</label>
                                    <input type="password" class="form-control" id="passwordAcceso" name="passwordAcceso" required>
                                    <div class="invalid-feedback">Por favor ingrese la contraseña.</div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="area" class="form-label">Área *</label>
                                    <select class="form-select" id="area" name="area" required>
                                        <option value="">Seleccionar área...</option>
                                        <option value="SUBDIRECCION">Subdirección</option>
                                        <option value="COORDINACION_ACADEMICA">Coordinación Académica</option>
                                        <option value="COORDINACION_SERVICIOS_ESCOLARES">Coordinación de Servicios Escolares</option>
                                    </select>
                                    <div class="invalid-feedback">Por favor seleccione el área.</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="celular" class="form-label">Celular</label>
                                    <input type="text" class="form-control" id="celular" name="celular">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="extension" class="form-label">Extensión</label>
                                    <input type="text" class="form-control" id="extension" name="extension">
                                </div>
                            </div>
                        </div>
                        
                        <div class="d-flex justify-content-end gap-2">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save me-2"></i>Guardar Administrativo
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Editar Administrativo -->
    <div class="modal fade" id="editAdministrativeModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-user-edit me-2"></i>Editar Administrativo
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="editAdministrativeForm" method="post" class="needs-validation" novalidate>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editNombres" class="form-label">Nombres *</label>
                                    <input type="text" class="form-control" id="editNombres" name="nombres" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editApellidos" class="form-label">Apellidos *</label>
                                    <input type="text" class="form-control" id="editApellidos" name="apellidos" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editCurp" class="form-label">CURP</label>
                                    <input type="text" class="form-control" id="editCurp" name="curp" maxlength="18">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editRfc" class="form-label">RFC</label>
                                    <input type="text" class="form-control" id="editRfc" name="rfc" maxlength="13">
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="editDireccion" class="form-label">Dirección</label>
                            <input type="text" class="form-control" id="editDireccion" name="direccion">
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editCorreoPersonal" class="form-label">Correo Personal</label>
                                    <input type="email" class="form-control" id="editCorreoPersonal" name="correoPersonal">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editCorreoInstitucional" class="form-label">Correo Institucional *</label>
                                    <input type="email" class="form-control" id="editCorreoInstitucional" name="correoInstitucional" required readonly>
                                    <small class="form-text text-muted">El correo institucional no se puede cambiar</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editPasswordAcceso" class="form-label">Nueva Contraseña</label>
                                    <input type="password" class="form-control" id="editPasswordAcceso" name="passwordAcceso">
                                    <small class="form-text text-muted">Dejar en blanco para mantener la contraseña actual</small>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editArea" class="form-label">Área *</label>
                                    <select class="form-select" id="editArea" name="area" required>
                                        <option value="">Seleccionar área...</option>
                                        <option value="SUBDIRECCION">Subdirección</option>
                                        <option value="COORDINACION_ACADEMICA">Coordinación Académica</option>
                                        <option value="COORDINACION_SERVICIOS_ESCOLARES">Coordinación de Servicios Escolares</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editCelular" class="form-label">Celular</label>
                                    <input type="text" class="form-control" id="editCelular" name="celular">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editExtension" class="form-label">Extensión</label>
                                    <input type="text" class="form-control" id="editExtension" name="extension">
                                </div>
                            </div>
                        </div>
                        
                        <div class="d-flex justify-content-end gap-2">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save me-2"></i>Actualizar Administrativo
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Manejar edición de administrativos
        document.addEventListener('click', function(e) {
            if (e.target.closest('.edit-administrative-btn')) {
                const btn = e.target.closest('.edit-administrative-btn');
                const id = btn.getAttribute('data-administrative-id');
                
                // Llenar formulario de edición
                document.getElementById('editNombres').value = btn.getAttribute('data-nombres') || '';
                document.getElementById('editApellidos').value = btn.getAttribute('data-apellidos') || '';
                document.getElementById('editCurp').value = btn.getAttribute('data-curp') || '';
                document.getElementById('editRfc').value = btn.getAttribute('data-rfc') || '';
                document.getElementById('editDireccion').value = btn.getAttribute('data-direccion') || '';
                document.getElementById('editCorreoPersonal').value = btn.getAttribute('data-correo-personal') || '';
                document.getElementById('editCorreoInstitucional').value = btn.getAttribute('data-correo-institucional') || '';
                document.getElementById('editArea').value = btn.getAttribute('data-area') || '';
                document.getElementById('editCelular').value = btn.getAttribute('data-celular') || '';
                document.getElementById('editExtension').value = btn.getAttribute('data-extension') || '';
                
                // Configurar formulario
                document.getElementById('editAdministrativeForm').action = `/administrativos/update/${id}`;
                
                // Mostrar modal
                new bootstrap.Modal(document.getElementById('editAdministrativeModal')).show();
            }
        });

        // Validación de formularios
        (function() {
            'use strict';
            window.addEventListener('load', function() {
                const forms = document.getElementsByClassName('needs-validation');
                Array.prototype.filter.call(forms, function(form) {
                    form.addEventListener('submit', function(event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();
    </script>
</body>
</html>
