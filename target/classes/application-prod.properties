# Garden University - Configuración de Producción
# Configuración para deployment en Netlify y otros servicios en la nube

# ========================================
# CONFIGURACIÓN DEL SERVIDOR
# ========================================
server.port=${PORT:8080}
server.address=0.0.0.0
server.servlet.context-path=/
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
server.compression.min-response-size=1024

# ========================================
# CONFIGURACIÓN DE BASE DE DATOS
# ========================================
# Para producción, usar PostgreSQL o MySQL
# Descomentar y configurar según tu proveedor de base de datos

# PostgreSQL (recomendado para producción)
# spring.datasource.url=jdbc:postgresql://localhost:5432/garden_university
# spring.datasource.username=${DB_USERNAME:garden_user}
# spring.datasource.password=${DB_PASSWORD:tu_password_seguro}
# spring.datasource.driver-class-name=org.postgresql.Driver

# MySQL (alternativa)
# spring.datasource.url=jdbc:mysql://localhost:3306/garden_university
# spring.datasource.username=${DB_USERNAME:garden_user}
# spring.datasource.password=${DB_PASSWORD:tu_password_seguro}
# spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# H2 para desarrollo y pruebas (mantener comentado en producción)
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.h2.console.enabled=false

# ========================================
# CONFIGURACIÓN JPA/HIBERNATE
# ========================================
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Para PostgreSQL: spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
# Para MySQL: spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

spring.jpa.hibernate.ddl-auto=create-drop
# Para producción: spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# ========================================
# CONFIGURACIÓN DE SEGURIDAD
# ========================================
# Configuración adicional de seguridad para producción
spring.security.require-ssl=false
# Para HTTPS en producción: spring.security.require-ssl=true

# ========================================
# CONFIGURACIÓN DE THYMELEAF
# ========================================
spring.thymeleaf.cache=true
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8

# ========================================
# CONFIGURACIÓN DE LOGGING
# ========================================
logging.level.com.garden.university=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate=WARN
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# ========================================
# CONFIGURACIÓN DE ARCHIVOS ESTÁTICOS
# ========================================
spring.web.resources.static-locations=classpath:/static/
spring.web.resources.cache.period=31536000
spring.web.resources.chain.strategy.content.enabled=true
spring.web.resources.chain.strategy.fixed.enabled=true

# ========================================
# CONFIGURACIÓN DE PERFIL ACTIVO
# ========================================
spring.profiles.active=prod

# ========================================
# CONFIGURACIONES ADICIONALES PARA CLOUD
# ========================================
# Configuración para servicios en la nube
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when_authorized

# Configuración de sesiones para ambientes distribuidos
# spring.session.store-type=jdbc
# server.servlet.session.timeout=30m

# ========================================
# VARIABLES DE ENTORNO REQUERIDAS
# ========================================
# Asegúrate de configurar estas variables en tu servicio de hosting:
#
# DB_USERNAME=tu_usuario_bd
# DB_PASSWORD=tu_password_bd
# PORT=8080 (o el puerto que asigne tu servicio)
# SPRING_PROFILES_ACTIVE=prod
#
# Para Netlify Functions (si usas):
# JAVA_VERSION=17
# MAVEN_VERSION=3.8.6
